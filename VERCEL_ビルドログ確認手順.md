# 🔍 Vercel ビルドログ確認手順

## 確認すべきポイント

ビルドログで以下を確認してください：

### 1. パッケージマネージャーの検出

以下のいずれかが表示されるはずです：

**npmを使用している場合:**
```
Detected `package-lock.json`
```

**pnpmを使用している場合:**
```
Detected `pnpm-lock.yaml` 9 which may be generated by pnpm@9.x or pnpm@10.x
Using pnpm@10.x based on project creation date
```

**yarnを使用している場合:**
```
Detected `yarn.lock`
```

### 2. Install Commandの実行

以下のいずれかが表示されるはずです：

**正しい場合:**
```
Running "install" command: `npm install --legacy-peer-deps`...
```

**間違っている場合:**
```
Running "install" command: `npm install`...
```

または

```
Running "install" command: `pnpm install`...
```

## 🔍 ビルドログの確認方法

### Step 1: ビルドログを開く

1. **Vercelダッシュボードにアクセス**
   - https://vercel.com にログイン
   - プロジェクト「blog-generator」を選択

2. **Deploymentsタブを開く**
   - 上部のナビゲーションバーから「Deployments」をクリック

3. **最新のデプロイメントをクリック**
   - 最新のデプロイメント（通常は一番上）をクリック

4. **Build Logsタブを開く**
   - デプロイメント詳細ページで「Build Logs」タブをクリック

### Step 2: ビルドログの最初の部分を確認

ビルドログの最初の部分（16:46:22.362 の前後）で以下を確認：

1. **パッケージマネージャーの検出メッセージ**
   - `Detected` で始まる行を探す
   - どのロックファイルが検出されているか確認

2. **Install Commandの実行**
   - `Running "install" command:` で始まる行を探す
   - どのコマンドが実行されているか確認

## 📝 確認チェックリスト

ビルドログで以下を確認してください：

- [ ] `Detected` で始まる行があるか
- [ ] どのロックファイルが検出されているか（`package-lock.json`、`pnpm-lock.yaml`、`yarn.lock`）
- [ ] `Running "install" command:` で始まる行があるか
- [ ] 実行されているコマンドに `--legacy-peer-deps` が含まれているか
- [ ] エラーメッセージがあるか

## 🔧 対処方法

### ケース1: `pnpm-lock.yaml` がまだ検出されている場合

**問題:** `pnpm-lock.yaml` がまだGitHubリポジトリに存在している

**解決方法:**
1. ローカルで `pnpm-lock.yaml` を削除
2. GitHubリポジトリからも削除
3. `package-lock.json` を確実に存在させる
4. 再デプロイ

### ケース2: `npm install` が `--legacy-peer-deps` なしで実行されている場合

**問題:** Vercelダッシュボードの「Install Command」設定が反映されていない

**解決方法:**
1. Vercelダッシュボード > Settings > Build and Deployment
2. 「Install Command」を `npm install --legacy-peer-deps` に設定
3. 「Production Overrides」セクションを確認
4. 上書き設定を削除または修正
5. 再デプロイ

### ケース3: ビルドログが表示されない場合

**問題:** ビルドログが正しく表示されていない

**解決方法:**
1. ブラウザのキャッシュをクリア
2. 別のブラウザで確認
3. ビルドログをコピーして共有

## 🚀 次のステップ

ビルドログの全体を確認して、以下を教えてください：

1. **`Detected` で始まる行の内容**
   - 例: `Detected pnpm-lock.yaml` または `Detected package-lock.json`

2. **`Running "install" command:` で始まる行の内容**
   - 例: `Running "install" command: npm install` または `Running "install" command: npm install --legacy-peer-deps`

3. **エラーメッセージ（もしあれば）**

これらの情報があれば、より具体的な解決策を提案できます。

---

**作成日**: 2025年1月27日  
**バージョン**: 1.0

